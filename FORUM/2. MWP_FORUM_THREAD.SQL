begin
  for o in (SELECT MC_CATEGORY_ID,TEMP_ID FROM MWP_MAYORS_CORNER_CATEGORY)
  loop
    EXECUTE IMMEDIATE'
    INSERT
    INTO MWP_FORUM_THREAD
    (
      FORUM_THREAD_CATEGORY_ID,
      FORUM_THREAD_SUBJECT,
      FORUM_THREAD_MESSAGE,
      FORUM_THREAD_TIMESTAMP,
      FORUM_THREAD_USER_ID,
      FORUM_THREAD_ISPUBLISHED,
      FORUM_THREAD_ISDELETED,
      TEMP_ID
    )
    SELECT 
      '|| o.MC_CATEGORY_ID ||',
      THREAD_SUBJECT,
      THREAD_MESSAGE_CLOB,
      THREAD_TIMESTAMP,
      mwp.USERID AS FORUM_THREAD_USER_ID,
      1 AS FORUM_THREAD_ISPUBLISHED,
      0 AS FORUM_THREAD_ISDELETED,
      THREAD_ID
    FROM PORTAL.TBL_FORUM_THREAD port
    LEFT JOIN MWP.USERS mwp ON mwp.USERNAME = port.USER_NAME
    WHERE port.THREAD_CATEGORY = '|| o.TEMP_ID;
  end loop;
end;



